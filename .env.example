# Resume Customizer Pro - example environment variables
# Copy this file to `.env` and fill in real values before running locally or in CI.

# Database (required)
DATABASE_URL=postgresql://username:password@localhost:5432/resume_customizer

# App
NODE_ENV=development
PORT=5000
APP_URL=http://localhost:5000

# Sessions / Auth (required)
SESSION_SECRET=replace-with-a-strong-random-value
JWT_SECRET=replace-with-a-strong-random-value
JWT_REFRESH_SECRET=replace-with-a-strong-random-value
COOKIE_SECRET=replace-with-a-strong-random-value
TOKEN_ENCRYPTION_KEY=CeH5LbUwphqgheDXHT0ycjVvzAX0JLRYNmdQxjSYs2I=
# Generate a new key with: node scripts/generate-encryption-key.js

# Redis Configuration (recommended for production)
# Email (optional - for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Gmail OAuth2 Configuration (required for Gmail integration)
GMAIL_CLIENT_ID=your-gmail-client-id.apps.googleusercontent.com
GMAIL_CLIENT_SECRET=your-gmail-client-secret
GMAIL_REDIRECT_URI=http://localhost:5000/api/marketing/oauth/gmail/callback

# Outlook OAuth2 Configuration (required for Outlook integration)
OUTLOOK_CLIENT_ID=your-outlook-client-id
OUTLOOK_CLIENT_SECRET=your-outlook-client-secret
OUTLOOK_REDIRECT_URI=http://localhost:5000/api/marketing/oauth/outlook/callback

# Redis connection settings
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=100
REDIS_MAX_RECONNECTIONS=10
REDIS_CONNECT_TIMEOUT=5000
REDIS_COMMAND_TIMEOUT=2000

# Redis connection pool
REDIS_POOL_MIN=2
REDIS_POOL_MAX=10

# Redis persistence (production settings)
REDIS_RDB_ENABLED=true
REDIS_AOF_ENABLED=true
REDIS_RDB_SAVE_INTERVAL=900
REDIS_AOF_SYNC_POLICY=everysec

# Cache TTL settings (in seconds)
REDIS_SESSION_TTL=3600
REDIS_API_TTL=300
REDIS_DOCX_TTL=86400
REDIS_RATE_LIMIT_TTL=900
REDIS_ANALYTICS_TTL=2592000

# Redis monitoring
REDIS_MONITORING_ENABLED=true
REDIS_HEALTH_CHECK_INTERVAL=30000
REDIS_LATENCY_WARNING=100
REDIS_LATENCY_CRITICAL=500

# Redis clustering (for scaling)
REDIS_CLUSTER_ENABLED=false
REDIS_CLUSTER_NODES=
REDIS_CLUSTER_READY_CHECK=true
REDIS_CLUSTER_MAX_REDIRECTIONS=16

# Legacy Redis URL (optional - will be overridden by individual settings above)
REDIS_URL=

# Email (optional)
# Choose a provider: smtp (default). Supported providers include SendGrid, Mailgun, Gmail SMTP, etc.
EMAIL_PROVIDER=smtp

# SMTP-style settings (used by most providers)
EMAIL_HOST=
EMAIL_PORT=
EMAIL_USER=
EMAIL_PASSWORD=
EMAIL_FROM=

# Test email script configuration (used by scripts/test-send-email.ts)
# Set these to run: npm run test:email
TEST_EMAIL_TO=
TEST_EMAIL_SUBJECT=Test email from Resume Customizer Pro

# Notes:
# - Use a verified sending domain and set EMAIL_FROM to an address on that domain (e.g. no-reply@yourdomain.com).
# - For development and testing, consider Mailtrap or Ethereal to avoid sending real emails.


# OAuth / 3rd party integrations (optional)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:5000/google-drive-callback.html

# Error reporting / monitoring (optional)
SENTRY_DSN=

# File storage / upload settings
FILE_STORAGE_PATH=./uploads
MAX_FILE_SIZE=25000000 # bytes (25 MB)
MAX_FILES_PER_REQUEST=3
MAX_BODY_SIZE=1mb

# Logging
LOG_LEVEL=info
DOC_PROCESS_CONCURRENCY=2

# Feature flags / misc
GEO_LOOKUP=on  # set to "off" to disable IP geolocation lookups

# Rate limits
RATE_WINDOW_MS=60000
RATE_UPLOAD_MAX=10
RATE_EXPORT_MAX=30
